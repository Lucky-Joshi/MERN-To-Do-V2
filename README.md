
# ğŸ“˜ MERN To-Do App â€“ README & Architecture Guide

---

## ğŸŒŸ Overview
This is a full-featured, beautifully designed **To-Do App** built using the **MERN stack**:

- **MongoDB** (Compass)
- **Express.js** (Backend API)
- **React** (Frontend via Vite)
- **Node.js** (Runtime)
- **Custom CSS** (UI Styling)
- **Axios** (Frontend â†’ Backend communication)
- **Mongoose** (MongoDB ORM)

Anonymous users can manage tasks locally using a persistent `userId` stored in `localStorage`.

---

## ğŸš€ Project Setup Instructions

### ğŸ–¥ï¸ Backend Setup
1. Go to `backend/` folder:
```bash
cd backend
```
2. Install dependencies:
```bash
npm install
```
3. Create a `.env` file:
```
PORT=5000
MONGO_URI=your_mongodb_connection_string
```
4. Start the server:
```bash
npm run dev
```
5. You should see:
```
Server running on http://localhost:5000
MongoDB Connected âœ…
```

### ğŸ§‘â€ğŸ¨ Frontend Setup
1. Go to `todo-frontend/` folder:
```bash
cd todo-frontend
```
2. Install dependencies:
```bash
npm install
```
3. Start the React dev server:
```bash
npm run dev
```
4. App will be live at:
```
http://localhost:5173
```

---

## ğŸ§± Folder Structure

### ğŸ“‚ Project Root:
```
project-root/
â”œâ”€â”€ backend/
â”œâ”€â”€ todo-frontend/
```

### ğŸ“ Backend:
```
backend/
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ taskController.js
â”œâ”€â”€ models/
â”‚   â””â”€â”€ Task.js
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ taskRoutes.js
â”œâ”€â”€ server.js
â”œâ”€â”€ .env
```

### ğŸ“ Frontend (Vite):
```
todo-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ assets/styles.css
â”‚   â”œâ”€â”€ App.jsx
â”‚   â””â”€â”€ main.jsx
â”œâ”€â”€ index.css
```

---

## ğŸ§  Execution Flow Diagram (High-Level)

```
[ React Frontend ]
       â†“ Axios
[ Express Server (Node.js) ]
       â†“
[ taskController.js (Business Logic) ]
       â†“
[ Mongoose Model (Task.js) ]
       â†“
[ MongoDB Compass ]
       â†“
[ Response â†’ Frontend ]
```

---

## ğŸ” ID Management
- **Anonymous `userId`**: Created using `uuidv4()` on first visit, saved in `localStorage`
- **`taskId`**: Auto-generated by MongoDB (`_id`)

---

## ğŸ“¬ API Endpoints

| Method | Endpoint                             | Description                      |
|--------|--------------------------------------|----------------------------------|
| POST   | `/api/tasks`                         | Create new task                  |
| GET    | `/api/tasks/:userId?filter=all`      | Get all active tasks             |
| GET    | `/api/tasks/:userId?filter=completed`| Get completed tasks              |
| GET    | `/api/tasks/:userId?filter=trashed`  | Get trashed tasks                |
| PUT    | `/api/tasks/toggle/:id`              | Toggle done/undone               |
| PUT    | `/api/tasks/trash/:id`               | Soft delete task (trash)         |
| PUT    | `/api/tasks/restore/:id`             | Restore from trash               |
| DELETE | `/api/tasks/:id`                     | Permanently delete from trash    |

---

## ğŸ§© Backend Components Explained

### ğŸ› ï¸ server.js
```js
const express = require("express");
const cors = require("cors");
const mongoose = require("mongoose");
const dotenv = require("dotenv");
const taskRoutes = require("./routes/taskRoutes");

const app = express();
dotenv.config();

app.use(cors());
app.use(express.json());

app.use("/api/tasks", taskRoutes);

mongoose.connect(process.env.MONGO_URI)
  .then(() => app.listen(process.env.PORT, () => console.log("Server started")))
  .catch(err => console.log(err));
```

### ğŸ“„ taskRoutes.js
```js
const express = require("express");
const router = express.Router();
const controller = require("../controllers/taskController");

router.post("/", controller.createTask);
router.get("/:userId", controller.getTasks);
router.put("/toggle/:id", controller.toggleDone);
router.put("/trash/:id", controller.trashTask);
router.put("/restore/:id", controller.restoreTask);
router.delete("/:id", controller.deleteTask);

module.exports = router;
```

### âš™ï¸ taskController.js
```js
exports.createTask = async (req, res) => {
  try {
    const task = await Task.create(req.body);
    res.status(201).json(task);
  } catch (err) {
    res.status(400).json({ error: err.message });
  }
};
```

### ğŸ§¾ Task.js (Mongoose Schema)
```js
const mongoose = require("mongoose");
const TaskSchema = new mongoose.Schema({
  userId: String,
  title: String,
  description: String,
  priority: String,
  completed: Boolean,
  trashed: Boolean
}, { timestamps: true });
module.exports = mongoose.model("Task", TaskSchema);
```

---

## ğŸ¨ Frontend UX

- Full page layout
- Top Left: ğŸ‘¤ userId (first 8 chars)
- Center: ğŸ“ App Name
- Top Right: â• Add Task button

### Task Modal Includes:
- Title (required)
- Priority (dropdown)
- Description (optional)
- Submit button triggers popup confirmation

### Task Card Shows:
- Title, description
- Priority pill
- Action buttons: Done/Undone, Trash, Restore, Delete

---

## ğŸ”„ Flow of a Task Creation

```
[User opens modal and submits task]
      â†“
[POST /api/tasks] â† React uses Axios
      â†“
[Express route handler calls controller]
      â†“
[taskController.createTask() saves to MongoDB]
      â†“
[Returns saved task to frontend]
      â†“
[React updates task list with new item]
```

---

## ğŸ§  Filtering Logic

```js
GET /api/tasks/:userId?filter=completed
```

---

## ğŸ–¼ï¸ Architecture Diagram (Textual)

```
+------------+        +-------------+        +-------------+        +-----------+
| React App  | <----> | Express API | <----> | Mongoose ORM | <----> | MongoDB   |
+------------+        +-------------+        +-------------+        +-----------+
```

---

## ğŸ§­ Flowchart â€“ Full Interaction Example

```
+---------------------+
| User fills Task Form|
+---------------------+
          |
          v
+----------------------+
| Frontend sends POST  |
| via Axios to Express |
+----------------------+
          |
          v
+-----------------------------+
| Express receives the POST   |
| route /api/tasks            |
+-----------------------------+
          |
          v
+-----------------------------+
| taskController.createTask() |
+-----------------------------+
          |
          v
+--------------------------+
| Mongoose saves to MongoDB |
+--------------------------+
          |
          v
+----------------------+
| Send response back   |
+----------------------+
          |
          v
+----------------------+
| React updates UI     |
+----------------------+
```
